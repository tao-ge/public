package com.ycnet.frms.util;

public class MapDistance { 


    private static double EARTH_RADIUS = 6378.137; 

 

    private static double rad(double d) { 

        return d * Math.PI / 180.0; 

    } 

 
    /**
     * 通过经纬度获取距离(单位：米)  
     * @param lat1
     * @param lng1
     * @param lat2
     * @param lng2
     * @return
     */
    public static double getDistance(double lat1, double lng1, double lat2, 

            double lng2) { 

        double radLat1 = rad(lat1); 

        double radLat2 = rad(lat2); 

        double a = radLat1 - radLat2; 

        double b = rad(lng1) - rad(lng2); 

        double s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2) 

                + Math.cos(radLat1) * Math.cos(radLat2) 

                * Math.pow(Math.sin(b / 2), 2))); 

        s = s * EARTH_RADIUS; 

//        s = Math.round(s * 10000) / 10000; 

        return s; 

    } 
    
    

	/**
	 * 通过经纬度获取距离(单位：米)
	 * 
	 * @param lat1
	 * @param lng1
	 * @param lat2
	 * @param lng2
	 * @return 距离
	 */
	public static double getDistance_20180802(double lat1, double lng1, double lat2,
			double lng2) {
		double radLat1 = rad(lat1);
		double radLat2 = rad(lat2);
		double a = radLat1 - radLat2;
		double b = rad(lng1) - rad(lng2);
		double s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2)
				+ Math.cos(radLat1) * Math.cos(radLat2)
				* Math.pow(Math.sin(b / 2), 2)));
		s = s * EARTH_RADIUS;
		s = Math.round(s * 10000d) / 10000d;
		s = s * 1000;
		return s;
	}
	
	public static void main(String[] args) {
//		double distance1 = getDistance(34.2675560000, 108.9534750000,
//				34.2464320000, 108.9534750000);
//		System.out.println("距离" + distance1 + "米");
//		
//		double distance2 = getDistance_20180802(34.2675560000, 108.9534750000,
//				34.2464320000, 108.9534750000);
//		System.out.println("距离" + distance2 + "米");
//		
//		double distance3 = getDistance_20180802(45.73204808528277, 126.6566642442401,
//				45.7291161847, 126.681812523);
//		System.out.println("距离" + distance3 + "米");
		
		String a = "114.13757500,23.34349000,0 114.13795600,23.34335000,0 114.13817600,23.34315100,"
				+ "0 114.13838700,23.34296100,0 114.13852700,23.34288100,0 114.13878800,23.34274200,"
				+ "0 114.13914800,23.34245200,0 114.13933900,23.34237200,0 114.13942900,23.34232300,"
				+ "0 114.13948900,23.34220300,0 114.13964000,23.34200300,0 114.13989000,23.34186300,"
				+ "0 114.14000000,23.34178400,0 114.14027100,23.34176400,0 114.14054200,23.34178400,"
				+ "0 114.14078200,23.34187500,0 114.14093300,23.34195500,0 114.14099300,23.34209500,"
				+ "0 114.14110300,23.34223500,0 114.14122300,23.34233500,0 114.14139400,23.34240600,"
				+ "0 114.14159400,23.34236600,0 114.14181500,23.34232600,0 114.14198500,23.34235600,"
				+ "0 114.14217500,23.34255700,0 114.14230600,23.34270700,0 114.14242600,23.34281700,"
				+ "0 114.14282700,23.34299800,0 114.14319800,23.34305800,0 114.14376900,23.34318900,"
				+ "0 114.14410000,23.34329000,0 114.14454100,23.34341000,0 114.14508200,23.34362100,"
				+ "0 114.14549300,23.34374200,0 114.14583400,23.34376200,0 114.14608500,23.34373300,"
				+ "0 114.14633500,23.34365300,0 114.14668600,23.34361400,0 114.14694700,23.34364400,"
				+ "0 114.14719800,23.34376500,0 114.14733800,23.34393500,0 114.14751800,23.34407500,"
				+ "0 114.14771900,23.34418500,0 114.14800000,23.34435600,0 114.14823000,23.34453600,"
				+ "0 114.14850100,23.34474600,0 114.14875100,23.34481700,0 114.14896200,23.34479700,"
				+ "0 114.14912200,23.34464800,0 114.14916300,23.34452800,0 114.14940300,23.34442800,"
				+ "0 114.14950300,23.34436800,0 114.14955400,23.34426800,0 114.14961400,23.34416800,"
				+ "0 114.14963400,23.34407900,0 114.14981400,23.34403900,0 114.15009500,23.34404900,"
				+ "0 114.15032500,23.34402000,0 114.15056600,23.34386000,0 114.15057600,23.34374000,"
				+ "0 114.15067600,23.34361000,0 114.15071700,23.34348100,0 114.15083700,23.34342100,"
				+ "0 114.15093700,23.34334100,0 114.15106700,23.34326100,0 114.15120800,23.34323100,"
				+ "0 114.15136800,23.34317200,0 114.15155900,23.34312200,0 114.15174900,23.34305200,"
				+ "0 114.15184900,23.34300300,0 114.15189000,23.34291300,0 114.15187000,23.34283300,"
				+ "0 114.15187000,23.34271300,0 114.15183900,23.34263300,0 114.15183900,23.34259300,"
				+ "0 114.15190000,23.34252300,0 114.15203000,23.34247300,0 114.15203000,23.34247300,"
				+ "0 114.15207000,23.34243300,0 114.15217000,23.34234300,0 114.15220000,23.34229300,"
				+ "0 114.15228100,23.34220400,0 114.15237100,23.34196400,0 114.15249100,23.34185400,"
				+ "0 114.15268200,23.34176400,0 114.15279200,23.34162500,0 114.15292200,23.34155500,"
				+ "0 114.15302300,23.34152500,0 114.15309300,23.34158500,0 114.15311300,23.34171500,"
				+ "0 114.15312300,23.34185500,0 114.15310300,23.34204500,0 114.15306300,23.34222500,"
				+ "0 114.15306300,23.34243500,0 114.15314300,23.34261500,0 114.15319300,23.34271500,"
				+ "0 114.15328300,23.34288500,0 114.15337300,23.34293500,0 114.15344400,23.34299500,"
				+ "0 114.15351400,23.34293600,0 114.15360400,23.34281600,0 114.15374400,23.34268600,"
				+ "0 114.15377400,23.34262600,0 114.15381500,23.34258600,0 114.15388500,23.34259600,"
				+ "0 114.15412500,23.34267700,0 114.15426600,23.34268700,0 114.15441600,23.34267700,"
				+ "0 114.15452600,23.34263700,0 114.15463700,23.34255800,0 114.15468700,23.34246800,"
				+ "0 114.15475700,23.34236800,0 114.15484700,23.34225800,0 114.15495800,23.34218800,"
				+ "0 114.15501800,23.34211800,0 114.15512800,23.34202900,0 114.15516800,23.34197900,"
				+ "0 114.15524800,23.34191900,0 114.15544900,23.34188900,0 114.15620100,23.34186100,"
				+ "0 114.15659200,23.34181100,0 114.15704300,23.34170200,0 114.15716300,23.34147200,"
				+ "0 114.15728400,23.34137300,0 114.15753400,23.34132300,0 114.15770500,23.34129300,"
				+ "0 114.15788500,23.34138400,0 114.15804600,23.34146400,0 114.15826600,23.34149400,"
				+ "0 114.15853700,23.34149500,0 114.15876800,23.34140500,0 114.15909900,23.34123600,"
				+ "0 114.15943000,23.34100700,0 114.15973000,23.34089700,0 114.16000100,23.34087800,"
				+ "0 114.16037200,23.34096800,0 114.16051200,23.34117900,0 114.16062300,23.34148900,"
				+ "0 114.16077300,23.34180900,0 114.16094400,23.34197900,0 114.16096400,23.34215900,"
				+ "0 114.16083300,23.34230900,0 114.16075300,23.34244900,0 114.16074300,23.34256900,"
				+ "0 114.16080300,23.34262900,0 114.16093300,23.34263900,0 114.16104400,23.34256900,"
				+ "0 114.16117400,23.34240900,0 114.16132500,23.34228000,0 114.16149500,23.34218000,"
				+ "0 114.16168600,23.34205100,0 114.16184600,23.34191100,0 114.16202600,23.34186100,"
				+ "0 114.16212700,23.34198100,0 114.16220700,23.34211100,0 114.16228700,23.34221200,"
				+ "0 114.16235700,23.34232200,0 114.16249800,23.34254200,0 114.16264800,23.34265200,"
				+ "0 114.16271800,23.34278200,0 114.16276800,23.34296200,0 114.16289900,23.34303300,"
				+ "0 114.16302900,23.34302300,0 114.16313900,23.34295300,0 114.16329000,23.34301300,"
				+ "0 114.16335000,23.34315300,0 114.16343000,23.34335300,0 114.16348000,23.34366300,"
				+ "0 114.16350000,23.34391300,0 114.16362100,23.34414400,0 114.16365100,23.34441400,"
				+ "0 114.16364100,23.34456400,0 114.16380100,23.34470400,0 114.16392100,23.34480400,"
				+ "0 114.16412200,23.34479400,0 114.16420200,23.34471500,0 114.16447300,23.34470500,"
				+ "0 114.16473400,23.34471600,0 114.16494400,23.34469600,0 114.16503400,23.34458600,"
				+ "0 114.16521500,23.34458700,0 114.16533500,23.34473700,0 114.16539500,23.34492700,"
				+ "0 114.16585700,23.34510800,0 114.16619800,23.34510800,0 114.16634800,23.34514900,"
				+ "0 114.16655900,23.34524900,0 114.16679900,23.34533900,0 114.16703000,23.34546000,"
				+ "0 114.16715000,23.34546000,0 114.16725000,23.34569000,0 114.16734100,23.34604000,"
				+ "0 114.16748100,23.34629000,0 114.16764100,23.34652100,0 114.16790200,23.34666100,"
				+ "0 114.16812300,23.34666200,0 114.16836300,23.34664200,0 114.16844400,23.34684200,"
				+ "0 114.16849400,23.34702200,0 114.16877400,23.34705300,0 114.16913500,23.34696300,"
				+ "0 114.16939600,23.34692400,0 114.16948600,23.34705400,0 114.16952700,23.34719400,"
				+ "";
		String[] aArr = a.split(",0 ");
		if(aArr!=null && aArr.length>0) {
			aArr[aArr.length-1] = aArr[aArr.length-1].substring(0, aArr[aArr.length-1].lastIndexOf(","));
			System.out.println("==========================="+aArr[aArr.length-1]);
		}
		Double len = null;
		for(int i=0;i<aArr.length;i++) {
			
			String[] zb1 = aArr[i].split(",");
			String[] zb2 = aArr[i+1].split(",");
			len += getDistance_20180802(Double.parseDouble(zb1[1]),Double.parseDouble(zb1[0]),Double.parseDouble(zb2[1]),Double.parseDouble(zb2[0]));
		}
		
	}

}   
